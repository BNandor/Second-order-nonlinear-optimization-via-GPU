cmake_minimum_required(VERSION 3.17)
project(ParallelLBFGS CUDA)

set(CMAKE_CUDA_STANDARD 14)

add_executable(ParallelLBFGS main.cu core/AD/DDouble.cuh core/AD/function/DFunction.cuh core/optimizer/operators/refine/GradientDescent.cuh core/AD/function/DIDFunction.cuh core/AD/function/DPlusFunction.cuh core/AD/function/DMinusFunction.cuh core/AD/function/DMultiplicationFunction.cuh core/AD/function/Operations.cuh core/problem/Problem.cuh core/problem/F1.cuh core/AD/function/DSquareFunction.cuh core/problem/PlaneFitting.cuh core/common/Constants.cuh core/problem/Rosenbrock2D.cuh core/problem/SNLP/SNLP.cuh core/problem/SNLP/SNLPAnchor.cuh core/common/FIFOQueue.cuh core/optimizer/operators/refine/LBFGS.cuh core/problem/SNLP/SNLP3D.cuh core/problem/SNLP/SNLP3DAnchor.cuh core/common/Random.cuh core/common/OptimizerContext.cuh core/common/Metrics.cuh core/optimizer/operators/perturb/DE/DEContext.h core/optimizer/operators/perturb/Perturbator.h core/optimizer/operators/refine/LocalSearch.cuh core/common/config/CUDAConfig.cuh core/optimizer/operators/select/Selector.cuh core/optimizer/operators/select/best/BestSelector.cuh core/common/model/BoundedParameter.cuh core/optimizer/operators/Operator.h core/optimizer/operators/refine/FunctionEvaluation.cuh core/optimizer/markov/optimizer/OptimizingMarkovChain.cuh core/optimizer/markov/MarkovNode.cuh core/optimizer/operators/initialize/Initializer.cuh core/optimizer/markov/MarkovChain.cuh core/optimizer/markov/operator/OperatorMarkovChain.cuh core/optimizer/markov/operator/OperatorMarkovNode.cuh core/optimizer/markov/optimizer/OptimizingMarkovNode.cuh core/optimizer/markov/optimizer/parameters/SimplexParameters.cuh core/optimizer/base/BaseLevel.cuh core/optimizer/hyper/HyperLevel.cuh core/optimizer/hyper/Random/RandomHyperLevel.cuh core/optimizer/hyper/SA/SimulatedAnnealingHyperLevel.cuh core/optimizer/hyper/Simple/SimpleLocalSearchHyperLevel.cuh core/optimizer/hyper/Simple/SimplePerturbHyperLevel.cuh core/problem/Rosenbrock/RosenbrockModel.cuh core/problem/Rosenbrock/Rosenbrock.cuh core/problem/StyblinskiTang/StyblinskiTang.cuh core/problem/StyblinskiTang/StyblinskiTangModel.cuh core/problem/Trid/Trid1.cuh core/problem/Trid/Trid2.cuh core/problem/Trid/TridModel.cuh core/problem/Rastrigin/Rastrigin.cuh core/problem/Rastrigin/RastriginModel.cuh core/problem/Schwefel/223/Schwefel223.cuh core/problem/Schwefel/223/Schwefel223Model.cuh core/problem/Qing/Qing.cuh core/problem/Qing/QingModel.cuh core/common/Statistics.cuh core/common/io/json.h core/common/io/JsonOperations.cuh core/optimizer/hyper/SA/SimulatedAnnealingPerturbHyperLevel.cuh core/optimizer/hyper/SA/SimulatedAnnealingRefineHyperLevel.cuh core/optimizer/hyper/Simple/SimpleGDSearchHyperLevel.cuh core/optimizer/hyper/Simple/SimpleLBFGSSearchHyperLevel.cuh core/optimizer/hyper/Simple/SimpleGAHyperLevel.cuh core/optimizer/hyper/Simple/SimpleDEHyperLevel.cuh core/optimizer/hyper/CMA-ES/SA-CMAESHyperLevel.cuh core/optimizer/hyper/MADS/MADSHyperLevel.cuh core/optimizer/operators/perturb/GWO/GWOContext.h core/common/CommonStringUtils.h core/optimizer/hyper/MADS/SA-MADSHyperLevel.cuh core/problem/Michalewicz/Michalewicz.cuh core/problem/DixonPrice/DixonPrice1.cuh core/problem/DixonPrice/DixonPrice2.cuh core/problem/DixonPrice/DixonPriceModel.cuh core/problem/Levy/Levy1.cuh core/problem/Levy/Levy2.cuh core/problem/Levy/Levy3.cuh core/problem/Levy/LevyModel.cuh core/problem/Schwefel/Schwefel.cuh core/problem/Schwefel/SchwefelModel.cuh core/problem/SumSquares/SumSquares.cuh core/problem/SumSquares/SumSquaresModel.cuh core/problem/Sphere/SphereModel.cuh core/json.hpp)

set_target_properties(
        ParallelLBFGS
        PROPERTIES
        CUDA_SEPARABLE_COMPILATION ON)
set_property(TARGET ParallelLBFGS PROPERTY CUDA_ARCHITECTURES 60)
